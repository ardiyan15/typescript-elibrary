<%- include('../includes/head.ejs') %> <%- include('../includes/navigation.ejs')
%>
<div class="container-fluid">
  <div class="card shadow mb-4">
    <div class="card-header py-3">
      <h6 class="m-0 font-weight-bold text-primary"><%= formTitle %></h6>
    </div>
    <div class="card-body">
      <% action = ''; %> <% if(book.id) { %> <% action =
      `/backoffice/updatebook/${bookIdEncrypted}` %> <% } else { %> <% action =
      '/backoffice/books'%> <% } %>
      <form action="<%= action %>" method="POST" enctype="multipart/form-data">
        <input
          type="hidden"
          name="id"
          value="<%= book.id ? bookIdEncrypted : '' %>"
        />
        <div class="row">
          <div class="col-md-4 form-group">
            <label for="title">Title</label>
            <input
              type="text"
              name="title"
              id="title"
              class="form-control"
              placeholder="Title"
              required
              value="<%= book.title ? book.title : '' %>"
            />
          </div>
          <div class="col-md-4 form-group">
            <label for="password">Author</label>
            <input
              type="text"
              name="author"
              id="author"
              class="form-control"
              placeholder="Author"
              value="<%= book.author ? book.author : '' %>"
            />
          </div>
          <div class="col-md-4 form-group">
            <label for="category">Category</label>
            <select name="category" class="form-control" required>
              <option value="">-- Select Category --</option>
              <option value="Self Development">Self Development</option>
              <option value="Fiction">Fiction</option>
              <option value="History">History</option>
              <option value="Economy">Economy</option>
            </select>
          </div>
          <div class="col-md-4 form-group">
            <label for="text">ISBN</label>
            <input
              type="text"
              name="isbn"
              id="isbn"
              class="form-control"
              placeholder="ISBN"
              required
              value="<%= book.ISBN ? book.ISBN : '' %>"
            />
          </div>
          <div class="col-md-2 form-group">
            <label for="text">Publication Date</label>
            <input
              type="date"
              name="publication_date"
              id="publication_date"
              class="form-control datepicker"
              required
              value="<%= book.publication_date ? book.publication_date : '' %>"
            />
          </div>
          <div class="col-md-6 form-group">
            <label for="text">Language</label>
            <input
              type="text"
              name="language"
              id="language"
              class="form-control"
              placeholder="Language"
              required
              value="<%= book.language ? book.language : '' %>"
            />
          </div>
          <div class="col-md-4 form-group">
            <label for="text">Publisher</label>
            <input
              type="text"
              name="publisher"
              id="publisher"
              class="form-control"
              placeholder="Publisher"
              required
              value="<%= book.publisher ? book.publisher : '' %>"
            />
          </div>
          <div class="col-md-4 form-group">
            <label for="text">Number Of Pages</label>
            <input
              type="text"
              name="number_of_pages"
              id="number_of_pages"
              class="form-control"
              placeholder="Number Of Pages"
              required
              value="<%= book.number_of_pages ? book.number_of_pages : '' %>"
            />
          </div>
          <div class="col-md-4 form-group">
            <label for="text">Heavy <small>(kg)</small></label>
            <input
              type="text"
              name="heavy"
              id="heavy"
              class="form-control"
              placeholder="1.0"
              required
              value="<%= book.heavy ? book.heavy : '' %>"
            />
          </div>
          <div class="col-md-4 form-group">
            <label for="text">Width <small>(cm)</small></label>
            <input
              type="number"
              name="width"
              id="width"
              class="form-control"
              placeholder="1.0"
              required
              value="<%= book.width ? book.width : '' %>"
            />
          </div>
          <div class="col-md-4 form-group">
            <% if(book.id) { %>
            <div class="row">
              <div class="col-md-6">
                <img
                  width="100%"
                  height="100"
                  src="/<%= book.image %>"
                  alt="<%= book.title %>"
                />
              </div>
              <div class="col-md-6">
                <label for="image">Upload New Image</label>
                <input
                  type="file"
                  name="image"
                  id="image"
                  class="form-control"
                />
              </div>
            </div>
            <% } else { %>
            <label for="image">Image</label>
            <input type="file" name="image" id="image" class="form-control" />
            <% } %>
          </div>
          <div class="col-md-4 form-group">
            <label for="text">Length <small>(cm)</small></label>
            <input
              type="number"
              name="length"
              id="length"
              class="form-control"
              placeholder="1.0"
              required
              value="<%= book.length ? book.length : '' %>"
            />
          </div>
          <div class="col-md-8 form-group">
            <label for="text">Description</label>
            <textarea
              class="form-control"
              name="description"
              id="description"
              cols="30"
              rows="5"
              placeholder="Some Description"
            ></textarea>
          </div>
        </div>
        <a href="/backoffice/books" class="btn btn-secondary btn-sm rounded"
          >Back</a
        >
        <button type="submit" class="btn btn-primary btn-sm rounded">
          <%= buttonText %>
        </button>
      </form>
    </div>
  </div>
</div>
<%- include('../includes/end.ejs') %>

<script>
  $(".datepicker").datepicker();
</script>
